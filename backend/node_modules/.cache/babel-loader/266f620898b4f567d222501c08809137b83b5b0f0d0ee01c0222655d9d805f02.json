{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\OMS LinhNguyen-301265700\\\\backend\\\\src\\\\components\\\\DeleteObject.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DeleteObject = ({\n  match,\n  history\n}) => {\n  _s();\n  const userId = match.params.userId;\n  const [userData, setUserData] = useState({\n    name: '',\n    email: ''\n  });\n  useEffect(() => {\n    const fetchUserDetails = async () => {\n      try {\n        const response = await fetch(`http://localhost:3000/api/users/${userId}`);\n        if (response.ok) {\n          const data = await response.json();\n          setUserData(data.data);\n        } else {\n          console.error('Failed to fetch user details');\n        }\n      } catch (error) {\n        console.error('Error during user details fetch:', error);\n      }\n    };\n    fetchUserDetails();\n  }, [userId]);\n  const handleDelete = async () => {\n    try {\n      const response = await fetch(`http://localhost:3000/api/users/${userId}`, {\n        method: 'DELETE'\n      });\n      if (!response.ok) {\n        console.error('User deletion failed');\n        return;\n      }\n\n      // Handle success(show a success message)\n      history.push('/'); // Redirect to the home page after deletion\n    } catch (error) {\n      console.error('Error during user deletion:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Delete User\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Are you sure you want to delete the user \", userData.name, \" (\", userData.email, \")?\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleDelete,\n      children: \"Delete User\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n_s(DeleteObject, \"BB4Vev0LsmjFwf5tQT28Dx6K/z8=\");\n_c = DeleteObject;\nexport default DeleteObject;\nvar _c;\n$RefreshReg$(_c, \"DeleteObject\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","DeleteObject","match","history","_s","userId","params","userData","setUserData","name","email","fetchUserDetails","response","fetch","ok","data","json","console","error","handleDelete","method","push","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["C:/Users/ASUS/Desktop/OMS LinhNguyen-301265700/backend/src/components/DeleteObject.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nconst DeleteObject = ({ match, history }) => {\r\n    const userId = match.params.userId;\r\n    const [userData, setUserData] = useState({\r\n    name: '',\r\n    email: '',\r\n    });\r\n\r\n    useEffect(() => {\r\n    const fetchUserDetails = async () => {\r\n        try {\r\n        const response = await fetch(`http://localhost:3000/api/users/${userId}`);\r\n        if (response.ok) {\r\n            const data = await response.json();\r\n            setUserData(data.data);\r\n        } else {\r\n            console.error('Failed to fetch user details');\r\n        }\r\n        } catch (error) {\r\n        console.error('Error during user details fetch:', error);\r\n        }\r\n    };\r\n\r\n    fetchUserDetails();\r\n    }, [userId]);\r\n\r\n    const handleDelete = async () => {\r\n    try {\r\n        const response = await fetch(`http://localhost:3000/api/users/${userId}`, {\r\n        method: 'DELETE',\r\n        });\r\n\r\n        if (!response.ok) {\r\n        console.error('User deletion failed');\r\n        return;\r\n        }\r\n\r\n      // Handle success(show a success message)\r\n      history.push('/'); // Redirect to the home page after deletion\r\n    } catch (error) {\r\n        console.error('Error during user deletion:', error);\r\n    }\r\n    };\r\n\r\n    return (\r\n    <div>\r\n        <h2>Delete User</h2>\r\n        <p>\r\n        Are you sure you want to delete the user {userData.name} ({userData.email})?\r\n        </p>\r\n        <button onClick={handleDelete}>Delete User</button>\r\n    </div>\r\n    );\r\n};\r\n\r\nexport default DeleteObject;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnD,MAAMC,YAAY,GAAGA,CAAC;EAAEC,KAAK;EAAEC;AAAQ,CAAC,KAAK;EAAAC,EAAA;EACzC,MAAMC,MAAM,GAAGH,KAAK,CAACI,MAAM,CAACD,MAAM;EAClC,MAAM,CAACE,QAAQ,EAAEC,WAAW,CAAC,GAAGX,QAAQ,CAAC;IACzCY,IAAI,EAAE,EAAE;IACRC,KAAK,EAAE;EACP,CAAC,CAAC;EAEFZ,SAAS,CAAC,MAAM;IAChB,MAAMa,gBAAgB,GAAG,MAAAA,CAAA,KAAY;MACjC,IAAI;QACJ,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,mCAAkCR,MAAO,EAAC,CAAC;QACzE,IAAIO,QAAQ,CAACE,EAAE,EAAE;UACb,MAAMC,IAAI,GAAG,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;UAClCR,WAAW,CAACO,IAAI,CAACA,IAAI,CAAC;QAC1B,CAAC,MAAM;UACHE,OAAO,CAACC,KAAK,CAAC,8BAA8B,CAAC;QACjD;MACA,CAAC,CAAC,OAAOA,KAAK,EAAE;QAChBD,OAAO,CAACC,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;MACxD;IACJ,CAAC;IAEDP,gBAAgB,CAAC,CAAC;EAClB,CAAC,EAAE,CAACN,MAAM,CAAC,CAAC;EAEZ,MAAMc,YAAY,GAAG,MAAAA,CAAA,KAAY;IACjC,IAAI;MACA,MAAMP,QAAQ,GAAG,MAAMC,KAAK,CAAE,mCAAkCR,MAAO,EAAC,EAAE;QAC1Ee,MAAM,EAAE;MACR,CAAC,CAAC;MAEF,IAAI,CAACR,QAAQ,CAACE,EAAE,EAAE;QAClBG,OAAO,CAACC,KAAK,CAAC,sBAAsB,CAAC;QACrC;MACA;;MAEF;MACAf,OAAO,CAACkB,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;IACrB,CAAC,CAAC,OAAOH,KAAK,EAAE;MACZD,OAAO,CAACC,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;IACvD;EACA,CAAC;EAED,oBACAlB,OAAA;IAAAsB,QAAA,gBACItB,OAAA;MAAAsB,QAAA,EAAI;IAAW;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACpB1B,OAAA;MAAAsB,QAAA,GAAG,2CACsC,EAACf,QAAQ,CAACE,IAAI,EAAC,IAAE,EAACF,QAAQ,CAACG,KAAK,EAAC,IAC1E;IAAA;MAAAa,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,eACJ1B,OAAA;MAAQ2B,OAAO,EAAER,YAAa;MAAAG,QAAA,EAAC;IAAW;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAClD,CAAC;AAEV,CAAC;AAACtB,EAAA,CApDIH,YAAY;AAAA2B,EAAA,GAAZ3B,YAAY;AAsDlB,eAAeA,YAAY;AAAC,IAAA2B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}